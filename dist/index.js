!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@delpi/common"),require("react-dom"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","@delpi/common","react-dom","styled-components"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).ReactTooltip={},t.React,t.common,t.reactDom,t.styled)}(this,(function(t,n,e,o,i){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=r(n),l=r(i),c=function(){return c=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},c.apply(this,arguments)};function s(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e}function u(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}"function"==typeof SuppressedError&&SuppressedError;var p,d,f,h,m,w,v,y,g,b,x,C,k,E,S,P,W,O=n.createContext({}),T=function(t){var n=t.shareContext,e=s(t,["shareContext"]);return n?a.default.createElement(O.Provider,{value:e},e.children):e.children},H="#282727",L=-12,M={fade:[i.keyframes(p||(p=u(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]))),i.keyframes(d||(d=u(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"])))],zoom:[i.keyframes(f||(f=u(["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),i.keyframes(h||(h=u(["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"])))]},z=l.default.div(m||(m=u(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),j=l.default(z)(x||(x=u(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n  z-index: 1111;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n  z-index: 1111;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"])),(function(t){return t.top}),(function(t){return t.left}),(function(t){return t.backgroundColor||H}),(function(t){return t.tooltipColor||"#ffffff"}),(function(t){return t.top?"visible":"hidden"}),(function(t){return t.top?M[t.display][0]:M[t.display][1]}),(function(t){return t.delayShow}),(function(t){return t.delayShow}),(function(t){return t.limitWidth?"200px":"none"}),(function(t){return t.pos&&i.css(w||(w=u(["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "],["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "])),t.pos,t.backgroundColor||H)}),(function(t){return"bottom"===t.pos&&i.css(v||(v=u(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),L,t.arrowPos)}),(function(t){return"top"===t.pos&&i.css(y||(y=u(["\n        bottom: ","px;\n        left: ","px;\n      "],["\n        bottom: ","px;\n        left: ","px;\n      "])),L,t.arrowPos)}),(function(t){return"right"===t.pos&&i.css(g||(g=u(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),t.arrowPos,L)}),(function(t){return"left"===t.pos&&i.css(b||(b=u(["\n        top: ","px;\n        right: ","px;\n      "],["\n        top: ","px;\n        right: ","px;\n      "])),t.arrowPos,L)})),N=l.default.div(W||(W=u(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  /* -webkit-transition: opacity 1s linear;\n    -moz-transition: opacity 1s linear;\n    -o-transition: opacity 1s linear;\n    transition: opacity 1s linear; */\n  ","\n  ","\n    ","\n    ","\n    ","\n"],["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  /* -webkit-transition: opacity 1s linear;\n    -moz-transition: opacity 1s linear;\n    -o-transition: opacity 1s linear;\n    transition: opacity 1s linear; */\n  ","\n  ","\n    ","\n    ","\n    ","\n"])),(function(t){return t.pos&&i.css(C||(C=u(["\n      border-",": 8px solid ",";\n    "],["\n      border-",": 8px solid ",";\n    "])),t.pos,t.backgroundColor||H)}),(function(t){return"bottom"===t.pos&&i.css(k||(k=u(["\n      top: -12px;\n      left: ","px;\n    "],["\n      top: -12px;\n      left: ","px;\n    "])),t.arrowPos)}),(function(t){return"top"===t.pos&&i.css(E||(E=u(["\n      bottom: -12px;\n      left: ","px;\n    "],["\n      bottom: -12px;\n      left: ","px;\n    "])),t.arrowPos)}),(function(t){return"right"===t.pos&&i.css(S||(S=u(["\n      top: ","px;\n      left: -10px;\n    "],["\n      top: ","px;\n      left: -10px;\n    "])),t.arrowPos)}),(function(t){return"left"===t.pos&&i.css(P||(P=u(["\n      top: ","px;\n      right: -10px;\n    "],["\n      top: ","px;\n      right: -10px;\n    "])),t.arrowPos)})),R=function(t){var n=t.children;return"function"==typeof n?a.default.createElement(a.default.Fragment,null,n()):n},I=function(){var t=n.useState(),e=t[0],o=t[1];return n.useEffect((function(){var t=window.document.body.querySelector("#portal-tooltip");t||((t=window.document.createElement("div")).setAttribute("id","portal-tooltip"),window.document.body.append(t)),o(t)}),[]),e},A=function(){return window.innerWidth+window.pageXOffset},U=function(){return window.innerHeight+window.pageYOffset},q=function(t){void 0===t&&(t=window.event);var n=!1;return"which"in t?n=3===t.which:"button"in t&&(n=2===t.button),n},D=function(t){return/^\d+$/.test("".concat(t||250))?"".concat(t,"ms"):t},B=function(t){var i=t.tooltipId,r=t.isShow,l=t.tooltipContent,c=t.tooltipClassName,s=t.placement,u=t.target,p=t.limitWidth,d=t.resizeSize,f=t.delayShow,h=t.display,m=t.top,w=t.bottom,v=t.right,y=t.left,g=t.backgroundColor,b=t.tooltipColor,x=t.centerArrow,C=t.setTargetTooltip,k=void 0===C?function(){}:C,E=n.useRef({clientTop:0,clientLeft:0,posPlacement:null,arrowPos:null}),S=n.useRef(null),P=I(),W=function(t,n,e,o,i,r){void 0===r&&(r=30);var a=A();if(x){r=50;var l=n.clientWidth/2,c=o+e/2,s=0;return c+l>a?(o=a-n.clientWidth,s=n.clientWidth-(a-i+e/2)-5):c-l<0?(o=0,s=Math.floor(e*r/100)-5):(o=c-l,s=Math.floor(n.clientWidth*r/100)-5),[o,s]}t+n.clientWidth>a?(t=a-n.clientWidth,r=50):n.clientWidth<e&&(e=n.clientWidth);var u=Math.floor(e*r/100)+o-t;return u>=6&&(u-=1),[t,u]},O=function(t,n,e,o,i,r){void 0===r&&(r=30);var a=U();if(x){r=47;var l=n.clientHeight/2,c=o+e/2,s=0;return c+l>a?(o=a-n.clientHeight,s=n.clientHeight-(a-i+e/2)-4):c-l<0?(o=0,s=Math.floor(e*r/100)-4):(o=c-l,s=Math.floor(n.clientHeight*r/100)-4),[o,s]}t+n.clientHeight>a?(t=a-n.clientHeight,r=50):n.clientHeight<e&&(e=n.clientHeight);var u=Math.floor(e*r/100)+o-t;return u>=6&&(u-=1),[t,u]};return n.useEffect((function(){var t,n,o,i,a,c,p=(S||{}).current;if(k(p),r||(E.current.clientTop=null,E.current.clientLeft=0),e.CmUtils.isNil(l))return E.current.clientTop=null,void(E.current.clientLeft=0);if(p&&u){var d=m?"top":v?"right":w?"bottom":y?"left":s||"top",f=u.getBoundingClientRect(),h=f.top,g=f.left,b=f.bottom,x=f.right,C=f.width,P=f.height;h+=window.pageYOffset,b+=window.pageYOffset,g+=window.pageXOffset,x+=window.pageXOffset;var T=function(){return h-p.clientHeight-8},H=function(){return x+10},L=function(){return b+8},M=function(){return g-p.clientWidth-10},z=0,j=g,N=T();switch(d){case"top":N<0&&(d="bottom",N=L()),j=(t=W(j,p,C,g,x))[0],z=t[1];break;case"bottom":(N=L())>U()&&(d="top",N=T()),j=(n=W(j,p,C,g,x))[0],z=n[1];break;case"left":N=h,(j=M())<0&&(d="right",j=H()),j+p.clientWidth>A()?(d="top",j=g,N=T(),j=(o=W(j,p,C,g,x))[0],z=o[1]):(N=(i=O(N,p,P,h,b))[0],z=i[1]),N<0&&(d="bottom",N=L());break;case"right":N=h,(j=H())+p.clientWidth>A()&&(d="left",j=M()),j<0?(d="top",j=g,N=T(),j=(a=W(j,p,C,g,x))[0],z=a[1]):(N=(c=O(N,p,P,h,b))[0],z=c[1]),N<0&&(d="bottom",N=L())}E.current.arrowPos=z,E.current.clientTop=N,E.current.clientLeft=j,E.current.posPlacement=d}}),[r,u,d,l,c,s,m,v,w,y]),P&&r?o.createPortal(a.default.createElement(j,{id:i,ref:S,className:e.HtmlUtils.joinClass([c,"ldk-placement-".concat(E.current.posPlacement)]),top:E.current.clientTop,left:E.current.clientLeft,pos:E.current.posPlacement,arrowPos:E.current.arrowPos,limitWidth:p,delayShow:D(f),display:h,backgroundColor:g,tooltipColor:b},a.default.createElement("div",{className:"ldk-icon"}),a.default.createElement(z,{className:"ldk-content"},a.default.createElement(R,null,l))),P):a.default.createElement(a.default.Fragment,null)};t.StyledArrow=N,t.StyledFlexCenter=z,t.StyledTooltip=j,t.default=function(t){var o=t.children,i=t.tagName,r=t.className,l=t.style,u=t.tooltipClassName,p=t.tooltipContent,d=t.placement,f=void 0===d?"top":d,h=t.trigger,m=void 0===h?"hover":h,w=t.delayShow,v=void 0===w?250:w,y=t.display,g=void 0===y?"fade":y,b=t.backgroundColor,x=t.tooltipColor,C=t.limitWidth,k=void 0===C||C,E=t.handleClick,S=void 0===E?function(){}:E,P=t.handleMouseEnter,W=void 0===P?function(){}:P,O=t.handleMouseLeave,H=void 0===O?function(){}:O,L=t.onClick,M=void 0===L?function(){}:L,z=t.onMouseEnter,j=void 0===z?function(){}:z,N=t.onMouseLeave,R=void 0===N?function(){}:N,I=t.onShown,A=void 0===I?function(){}:I,U=t.onHidden,D=void 0===U?function(){}:U,F=t.mouseWheel,X=void 0===F||F,Y=t.shareContext,_=void 0===Y||Y,V=t.open,$=t.showSync,G=t.hideIfResize,J=void 0===G||G,K=t.hideIfScroll,Q=t.top,Z=t.bottom,tt=t.right,nt=t.left,et=t.centerArrow,ot=t.forceHide,it=s(t,["children","tagName","className","style","tooltipClassName","tooltipContent","placement","trigger","delayShow","display","backgroundColor","tooltipColor","limitWidth","handleClick","handleMouseEnter","handleMouseLeave","onClick","onMouseEnter","onMouseLeave","onShown","onHidden","mouseWheel","shareContext","open","showSync","hideIfResize","hideIfScroll","top","bottom","right","left","centerArrow","forceHide"]),rt=n.useState(i)[0],at=n.useState(e.CmUtils.idv4Time("dk-ttip"))[0],lt=n.useState({}),ct=lt[0],st=lt[1],ut=n.useState(null),pt=ut[0],dt=ut[1],ft=n.useState(null),ht=ft[0],mt=ft[1],wt=n.useRef([]),vt=e.Hooks.useWindowSize(),yt="manual"===m,gt=["hover","focus"].includes(m);n.useEffect((function(){var t=ct.target||wt.current[0];V&&t&&(st({target:t,show:!1}),setTimeout((function(){return st((function(t){return c(c({},t),{show:!0})}))})))}),[V]),n.useEffect((function(){yt&&st({target:wt.current[0],show:$})}),[$]),n.useEffect((function(){J&&bt()}),[J,vt]),n.useEffect((function(){!e.CmUtils.isNil(ot)&&bt()}),[ot]),n.useEffect((function(){return ct.show?(document.addEventListener("mousedown",kt),document.addEventListener("touchstart",kt),document.addEventListener("scroll",xt),X&&document.addEventListener("wheel",xt)):(Ct(),dt(null)),function(){Ct()}}),[ct.show]);var bt=function(){ct.show&&(dt(null),Ct(),st((function(t){return c(c({},t),{show:!1})})),D(!1))},xt=function(){K&&bt()},Ct=function(){document.removeEventListener("mousedown",kt),document.removeEventListener("touchstart",kt),document.removeEventListener("scroll",xt),X&&document.removeEventListener("wheel",xt)},kt=function(t){void 0===t&&(t=window.event);try{if(yt||t.target.closest("#".concat(at)))return}catch(t){}q(t)||!ct.target||e.HtmlUtils.elContains(ct.target,t.target)||bt()},Et=function(t,i){var r=t.target,a=function(){st({show:!0,target:wt.current[i]}),A(),t.preventDefault(),t.stopPropagation()};return n.Children.count(o)>1?ct.target===wt.current[i]&&ct.show?(t.preventDefault(),t.stopPropagation(),bt(),void st({show:!1,target:wt.current[i]})):void(-1!==i&&a()):e.HtmlUtils.elContains(ct.target,r)&&ct.show?(t.preventDefault(),void t.stopPropagation()):void(-1!==i&&a())},St=function(t){H(t),R(t),gt&&bt()},Pt=function(t){return c({onMouseEnter:function(n){return function(t,n){W(t),j(t),gt&&Et(t,n)}(n,t)},onMouseLeave:St,onClick:function(n){return function(t,n){S(t),M(t),"click"===m&&Et(t,n)}(n,t)},ref:function(n){return wt.current[t]=n},className:r,style:l},it)};return a.default.createElement(T,{shareContext:_,showTooltip:function(t){dt(t),st((function(t){return c(c({},t),{show:!0})})),A()},hideTooltip:bt,isShow:Boolean(ct.show),tooltipId:at,tooltipElement:ht},rt?a.default.createElement(rt,c({},Pt(0)),o):n.Children.map(o,(function(t,e){return n.isValidElement(t)?n.cloneElement(t,c({},Pt(e))):t})),a.default.createElement(B,{tooltipId:at,isShow:Boolean(ct.show),tooltipClassName:u,tooltipContent:pt||p,placement:f,target:ct.target,limitWidth:k,resizeSize:vt,delayShow:v,display:g,top:Q,bottom:Z,right:tt,left:nt,backgroundColor:b,tooltipColor:x,centerArrow:et,setTargetTooltip:mt}))},t.delayTime=D,t.isMouseRightClick=q,t.overHeight=U,t.overWidth=A,t.usePortalTooltip=I,t.useTooltipContext=function(){return n.useContext(O)},Object.defineProperty(t,"__esModule",{value:!0})}));
