!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@delpi/common"),require("react-if-vz"),require("react-dom"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","@delpi/common","react-if-vz","react-dom","styled-components"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).ReactTooltip={},n.React,n.common,n.reactIfVz,n.reactDom,n.styled)}(this,(function(n,t,e,o,r,i){"use strict";function a(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}var l=a(t),c=a(i),s=function(){return s=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},s.apply(this,arguments)};function u(n,t){var e={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(e[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(e[o[r]]=n[o[r]])}return e}function p(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}"function"==typeof SuppressedError&&SuppressedError;var f,d,m,h,v,w,y,g,b,x,C,k,E,z,P,S,T,O=t.createContext({}),L=function(n){var t=n.shareContext,e=u(n,["shareContext"]);return t?l.default.createElement(O.Provider,{value:e},e.children):e.children},M="#282727",W=-12,j={fade:[i.keyframes(f||(f=p(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]))),i.keyframes(d||(d=p(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"])))],zoom:[i.keyframes(m||(m=p(["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),i.keyframes(h||(h=p(["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"])))]},N=c.default.div(v||(v=p(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),I=c.default(N)(C||(C=p(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n  z-index: 1111;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n  z-index: 1111;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n  z-index: 1111;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n  z-index: 1111;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"])),(function(n){return n.top}),(function(n){return n.left}),(function(n){return n.backgroundColor||M}),(function(n){return n.tooltipColor||"#ffffff"}),(function(n){return n.top?"visible":"hidden"}),(function(n){return n.top?j[n.display][0]:j[n.display][1]}),(function(n){return n.delayShow}),(function(n){return n.delayShow}),(function(n){return n.limitWidth?"200px":"none"}),(function(n){return n.pos&&i.css(w||(w=p(["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "],["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "])),n.pos,n.backgroundColor||M)}),(function(n){return"bottom"===n.pos&&i.css(y||(y=p(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),W,n.arrowPos)}),(function(n){return"top"===n.pos&&i.css(g||(g=p(["\n        bottom: ","px;\n        left: ","px;\n      "],["\n        bottom: ","px;\n        left: ","px;\n      "])),W,n.arrowPos)}),(function(n){return"right"===n.pos&&i.css(b||(b=p(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),n.arrowPos,W)}),(function(n){return"left"===n.pos&&i.css(x||(x=p(["\n        top: ","px;\n        right: ","px;\n      "],["\n        top: ","px;\n        right: ","px;\n      "])),n.arrowPos,W)}));c.default.div(T||(T=p(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  /* -webkit-transition: opacity 1s linear;\n    -moz-transition: opacity 1s linear;\n    -o-transition: opacity 1s linear;\n    transition: opacity 1s linear; */\n  ","\n  ","\n    ","\n    ","\n    ","\n"],["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  /* -webkit-transition: opacity 1s linear;\n    -moz-transition: opacity 1s linear;\n    -o-transition: opacity 1s linear;\n    transition: opacity 1s linear; */\n  ","\n  ","\n    ","\n    ","\n    ","\n"])),(function(n){return n.pos&&i.css(k||(k=p(["\n      border-",": 8px solid ",";\n    "],["\n      border-",": 8px solid ",";\n    "])),n.pos,n.backgroundColor||M)}),(function(n){return"bottom"===n.pos&&i.css(E||(E=p(["\n      top: -12px;\n      left: ","px;\n    "],["\n      top: -12px;\n      left: ","px;\n    "])),n.arrowPos)}),(function(n){return"top"===n.pos&&i.css(z||(z=p(["\n      bottom: -12px;\n      left: ","px;\n    "],["\n      bottom: -12px;\n      left: ","px;\n    "])),n.arrowPos)}),(function(n){return"right"===n.pos&&i.css(P||(P=p(["\n      top: ","px;\n      left: -10px;\n    "],["\n      top: ","px;\n      left: -10px;\n    "])),n.arrowPos)}),(function(n){return"left"===n.pos&&i.css(S||(S=p(["\n      top: ","px;\n      right: -10px;\n    "],["\n      top: ","px;\n      right: -10px;\n    "])),n.arrowPos)}));var H=function(n){var t=n.children;return"function"==typeof t?l.default.createElement(l.default.Fragment,null,t()):t},B=function(){var n=t.useState(),e=n[0],o=n[1];return t.useEffect((function(){var n=window.document.body.querySelector("#portal-tooltip");n||((n=window.document.createElement("div")).setAttribute("id","portal-tooltip"),window.document.body.append(n)),o(n)}),[]),e},R=function(){return window.innerWidth+window.pageXOffset},q=function(){return window.innerHeight+window.pageYOffset},U=function(n){void 0===n&&(n=window.event);var t=!1;return"which"in n?t=3===n.which:"button"in n&&(t=2===n.button),t},A=function(n){return/^\d+$/.test("".concat(n||250))?"".concat(n,"ms"):n},D=function(n,t,e,o,r,i,a,l){void 0===l&&(l=30);var c="horizontal"===a?R():q(),s="horizontal"===a?5:4,u="horizontal"===a?e.clientWidth:e.clientHeight;if(n){l="horizontal"===a?50:47;var p=u/2,f=r+o/2,d=0;return f+p>c?(t=c-u,d=u-(c-i+o/2)-s):f-p<0?(t=0,d=Math.floor(o*l/100)-s):(t=f-p,d=Math.floor(u*l/100)-s),[t,d]}t+u>c?(t=c-u,l=50):u<o&&(o=u);var m=Math.floor(o*l/100)+r-t;return m>=6&&(m-=1),[t,m]},X=function(n){var o=n.tooltipId,i=n.isShow,a=n.tooltipContent,c=n.tooltipClassName,s=n.placement,u=n.target,p=n.limitWidth,f=n.resizeSize,d=n.delayShow,m=n.display,h=n.top,v=n.bottom,w=n.right,y=n.left,g=n.backgroundColor,b=n.tooltipColor,x=n.centerArrow,C=n.setTargetTooltip,k=void 0===C?function(){}:C,E=t.useRef({clientTop:0,clientLeft:0,posPlacement:null,arrowPos:null}),z=t.useRef(null),P=B();return t.useEffect((function(){var n,t,o,r,l,c,p=(z||{}).current;if(k(p),i||(E.current.clientTop=null,E.current.clientLeft=0),e.CmUtils.isNil(a))return E.current.clientTop=null,void(E.current.clientLeft=0);if(p&&u){var f=h?"top":w?"right":v?"bottom":y?"left":s||"top",d=u.getBoundingClientRect(),m=d.top,g=d.left,b=d.bottom,C=d.right,P=d.width,S=d.height;m+=window.pageYOffset,b+=window.pageYOffset,g+=window.pageXOffset,C+=window.pageXOffset;var T=function(){return m-p.clientHeight-8},O=function(){return C+10},L=function(){return b+8},M=function(){return g-p.clientWidth-10},W=0,j=g,N=T();switch(f){case"top":N<0&&(f="bottom",N=L()),j=(n=D(Boolean(x),j,p,P,g,C,"horizontal"))[0],W=n[1];break;case"bottom":(N=L())>q()&&(f="top",N=T()),j=(t=D(Boolean(x),j,p,P,g,C,"horizontal"))[0],W=t[1];break;case"left":N=m,(j=M())<0&&(f="right",j=O()),j+p.clientWidth>R()?(f="top",j=g,N=T(),j=(o=D(Boolean(x),j,p,P,g,C,"horizontal"))[0],W=o[1]):(N=(r=D(Boolean(x),N,p,S,m,b,"vertical"))[0],W=r[1]),N<0&&(f="bottom",N=L());break;case"right":N=m,(j=O())+p.clientWidth>R()&&(f="left",j=M()),j<0?(f="top",j=g,N=T(),j=(l=D(Boolean(x),j,p,P,g,C,"horizontal"))[0],W=l[1]):(N=(c=D(Boolean(x),N,p,S,m,b,"vertical"))[0],W=c[1]),N<0&&(f="bottom",N=L())}E.current.arrowPos=W,E.current.clientTop=N,E.current.clientLeft=j,E.current.posPlacement=f}}),[i,u,f,a,c,s,h,w,v,y]),P&&i?r.createPortal(l.default.createElement(I,{id:o,ref:z,className:e.HtmlUtils.joinClass([c,"ldk-placement-".concat(E.current.posPlacement)]),top:E.current.clientTop,left:E.current.clientLeft,pos:E.current.posPlacement,arrowPos:E.current.arrowPos,limitWidth:p,delayShow:A(d),display:m,backgroundColor:g,tooltipColor:b},l.default.createElement("div",{className:"ldk-icon"}),l.default.createElement(N,{className:"ldk-content"},l.default.createElement(H,null,a))),P):l.default.createElement(l.default.Fragment,null)},Y=function(n){var r=n.children,i=n.tagName,a=n.className,c=n.style,p=n.tooltipClassName,f=n.tooltipContent,d=n.placement,m=void 0===d?"top":d,h=n.trigger,v=void 0===h?"hover":h,w=n.delayShow,y=void 0===w?250:w,g=n.display,b=void 0===g?"fade":g,x=n.backgroundColor,C=n.tooltipColor,k=n.limitWidth,E=void 0===k||k,z=n.handleClick,P=void 0===z?function(){}:z,S=n.handleMouseEnter,T=void 0===S?function(){}:S,O=n.handleMouseLeave,M=void 0===O?function(){}:O,W=n.onClick,j=void 0===W?function(){}:W,N=n.onMouseEnter,I=void 0===N?function(){}:N,H=n.onMouseLeave,B=void 0===H?function(){}:H,R=n.onShown,q=void 0===R?function(){}:R,A=n.onHidden,D=void 0===A?function(){}:A,Y=n.mouseWheel,F=void 0===Y||Y,V=n.shareContext,_=void 0===V||V,$=n.open,G=n.showSync,J=n.hideIfResize,K=void 0===J||J,Q=n.hideIfScroll,Z=n.top,nn=n.bottom,tn=n.right,en=n.left,on=n.centerArrow,rn=n.forceHide,an=u(n,["children","tagName","className","style","tooltipClassName","tooltipContent","placement","trigger","delayShow","display","backgroundColor","tooltipColor","limitWidth","handleClick","handleMouseEnter","handleMouseLeave","onClick","onMouseEnter","onMouseLeave","onShown","onHidden","mouseWheel","shareContext","open","showSync","hideIfResize","hideIfScroll","top","bottom","right","left","centerArrow","forceHide"]),ln=t.useState(i)[0],cn=t.useState(e.CmUtils.idv4Time("dk-ttip"))[0],sn=t.useState({}),un=sn[0],pn=sn[1],fn=t.useState(null),dn=fn[0],mn=fn[1],hn=t.useState(null),vn=hn[0],wn=hn[1],yn=t.useRef([]),gn=e.Hooks.useWindowSize(),bn="manual"===v,xn=["hover","focus"].includes(v);t.useEffect((function(){var n=un.target||yn.current[0];$&&n&&(pn({target:n,show:!1}),setTimeout((function(){return pn((function(n){return s(s({},n),{show:!0})}))})))}),[$]),t.useEffect((function(){bn&&pn({target:yn.current[0],show:G})}),[G]),t.useEffect((function(){K&&Cn()}),[K,gn]),t.useEffect((function(){!e.CmUtils.isNil(rn)&&Cn()}),[rn]),t.useEffect((function(){return un.show?(document.addEventListener("mousedown",zn),document.addEventListener("touchstart",zn),document.addEventListener("scroll",kn),F&&document.addEventListener("wheel",kn)):(En(),mn(null)),function(){En()}}),[un.show]);var Cn=function(){un.show&&(mn(null),En(),pn((function(n){return s(s({},n),{show:!1})})),D(!1))},kn=function(){Q&&Cn()},En=function(){document.removeEventListener("mousedown",zn),document.removeEventListener("touchstart",zn),document.removeEventListener("scroll",kn),F&&document.removeEventListener("wheel",kn)},zn=function(n){void 0===n&&(n=window.event);try{if(bn||n.target.closest("#".concat(cn)))return}catch(n){}U(n)||!un.target||e.HtmlUtils.elContains(un.target,n.target)||Cn()},Pn=function(n,o){var i=n.target,a=function(){pn({show:!0,target:yn.current[o]}),q(),n.preventDefault(),n.stopPropagation()};return t.Children.count(r)>1?un.target===yn.current[o]&&un.show?(n.preventDefault(),n.stopPropagation(),Cn(),void pn({show:!1,target:yn.current[o]})):void(-1!==o&&a()):e.HtmlUtils.elContains(un.target,i)&&un.show?(n.preventDefault(),void n.stopPropagation()):void(-1!==o&&a())},Sn=function(n){M(n),B(n),xn&&Cn()},Tn=function(n){return s({onMouseEnter:function(t){return function(n,t){T(n),I(n),xn&&Pn(n,t)}(t,n)},onMouseLeave:Sn,onClick:function(t){return function(n,t){P(n),j(n),"click"===v&&Pn(n,t)}(t,n)},ref:function(t){return yn.current[n]=t},className:a,style:c},an)};return l.default.createElement(L,{shareContext:_,showTooltip:function(n){mn(n),pn((function(n){return s(s({},n),{show:!0})})),q()},hideTooltip:Cn,isShow:Boolean(un.show),tooltipId:cn,tooltipElement:vn},l.default.createElement(o.Ifz,null,l.default.createElement(o.Ifz.If,{condition:!ln},t.Children.map(r,(function(n,e){return t.isValidElement(n)?t.cloneElement(n,s({},Tn(e))):n}))),l.default.createElement(o.Ifz.Else,null,l.default.createElement(ln,s({},Tn(0)),r))),l.default.createElement(X,{tooltipId:cn,isShow:Boolean(un.show),tooltipClassName:p,tooltipContent:dn||f,placement:m,target:un.target,limitWidth:E,resizeSize:gn,delayShow:y,display:b,top:Z,bottom:nn,right:tn,left:en,backgroundColor:x,tooltipColor:C,centerArrow:on,setTargetTooltip:wn}))};n.Tooltip=Y,n.TooltipContent=H,n.TooltipContext=L,n.TooltipPortal=X,n.default=Y,n.delayTime=A,n.isMouseRightClick=U,n.overHeight=q,n.overWidth=R,n.usePortalTooltip=B,n.useTooltipContext=function(){return t.useContext(O)},Object.defineProperty(n,"__esModule",{value:!0})}));
