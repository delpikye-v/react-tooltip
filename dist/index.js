!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@delpi/common"),require("react-ifz"),require("react-dom"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","@delpi/common","react-ifz","react-dom","styled-components"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).ReactTooltip={},t.React,t.common,t.reactIfz,t.reactDom,t.styled)}(this,(function(t,n,e,o,i,r){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=a(n),c=a(r),s=function(){return s=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},s.apply(this,arguments)};function u(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e}function f(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}"function"==typeof SuppressedError&&SuppressedError;var p,d,h,m,v,w,y,g,b,x,C,E,k,P,S,T,W,O=n.createContext({}),H=function(t){var n=t.shareContext,e=u(t,["shareContext"]);return l.default.createElement(o.If,{condition:!n},l.default.createElement(o.Then,null,e.children),l.default.createElement(o.Else,null,l.default.createElement(O.Provider,{value:e},e.children)))},L="#282727",z=-12,M={fade:[r.keyframes(p||(p=f(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]))),r.keyframes(d||(d=f(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"])))],zoom:[r.keyframes(h||(h=f(["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),r.keyframes(m||(m=f(["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"])))]},j=c.default.div(v||(v=f(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),N=c.default(j)(C||(C=f(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"])),(function(t){return t.top}),(function(t){return t.left}),(function(t){return t.backgroundColor||L}),(function(t){return t.tooltipColor||"#ffffff"}),(function(t){return t.top?"visible":"hidden"}),(function(t){return t.top?M[t.display][0]:M[t.display][1]}),(function(t){return t.delayShow}),(function(t){return t.delayShow}),(function(t){return t.limitWidth?"200px":"none"}),(function(t){return t.pos&&r.css(w||(w=f(["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "],["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "])),t.pos,t.backgroundColor||L)}),(function(t){return"bottom"===t.pos&&r.css(y||(y=f(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),z,t.arrowPos)}),(function(t){return"top"===t.pos&&r.css(g||(g=f(["\n        bottom: ","px;\n        left: ","px;\n      "],["\n        bottom: ","px;\n        left: ","px;\n      "])),z,t.arrowPos)}),(function(t){return"right"===t.pos&&r.css(b||(b=f(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),t.arrowPos,z)}),(function(t){return"left"===t.pos&&r.css(x||(x=f(["\n        top: ","px;\n        right: ","px;\n      "],["\n        top: ","px;\n        right: ","px;\n      "])),t.arrowPos,z)}));c.default.div(W||(W=f(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  /* -webkit-transition: opacity 1s linear;\n    -moz-transition: opacity 1s linear;\n    -o-transition: opacity 1s linear;\n    transition: opacity 1s linear; */\n  ","\n  ","\n    ","\n    ","\n    ","\n"],["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  /* -webkit-transition: opacity 1s linear;\n    -moz-transition: opacity 1s linear;\n    -o-transition: opacity 1s linear;\n    transition: opacity 1s linear; */\n  ","\n  ","\n    ","\n    ","\n    ","\n"])),(function(t){return t.pos&&r.css(E||(E=f(["\n      border-",": 8px solid ",";\n    "],["\n      border-",": 8px solid ",";\n    "])),t.pos,t.backgroundColor||L)}),(function(t){return"bottom"===t.pos&&r.css(k||(k=f(["\n      top: -12px;\n      left: ","px;\n    "],["\n      top: -12px;\n      left: ","px;\n    "])),t.arrowPos)}),(function(t){return"top"===t.pos&&r.css(P||(P=f(["\n      bottom: -12px;\n      left: ","px;\n    "],["\n      bottom: -12px;\n      left: ","px;\n    "])),t.arrowPos)}),(function(t){return"right"===t.pos&&r.css(S||(S=f(["\n      top: ","px;\n      left: -10px;\n    "],["\n      top: ","px;\n      left: -10px;\n    "])),t.arrowPos)}),(function(t){return"left"===t.pos&&r.css(T||(T=f(["\n      top: ","px;\n      right: -10px;\n    "],["\n      top: ","px;\n      right: -10px;\n    "])),t.arrowPos)}));var I=function(t){var n=t.children;return"function"==typeof n?l.default.createElement(l.default.Fragment,null,n()):n},R=function(){var t=n.useState(),e=t[0],o=t[1];return n.useEffect((function(){var t=window.document.body.querySelector("#portal-tooltip");t||((t=window.document.createElement("div")).setAttribute("id","portal-tooltip"),window.document.body.append(t)),o(t)}),[]),e},q=function(){return window.innerWidth+window.pageXOffset},U=function(){return window.innerHeight+window.pageYOffset},A=function(t){void 0===t&&(t=window.event);var n=!1;return"which"in t?n=3===t.which:"button"in t&&(n=2===t.button),n},B=function(t){return/^\d+$/.test("".concat(t||250))?"".concat(t,"ms"):t},D=function(t){var o=t.tooltipId,r=t.isShow,a=t.tooltipContent,c=t.tooltipClassName,s=t.placement,u=t.target,f=t.limitWidth,p=t.resizeSize,d=t.delayShow,h=t.display,m=t.top,v=t.bottom,w=t.right,y=t.left,g=t.backgroundColor,b=t.tooltipColor,x=t.centerArrow,C=t.setTargetTooltip,E=void 0===C?function(){}:C,k=n.useRef({clientTop:0,clientLeft:0,posPlacement:null,arrowPos:null}),P=n.useRef(null),S=R(),T=function(t,n,e,o,i,r){void 0===r&&(r=30);var a=q();if(x){r=50;var l=n.clientWidth/2,c=o+e/2,s=0;return c+l>a?(o=a-n.clientWidth,s=n.clientWidth-(a-i+e/2)-5):c-l<0?(o=0,s=Math.floor(e*r/100)-5):(o=c-l,s=Math.floor(n.clientWidth*r/100)-5),[o,s]}t+n.clientWidth>a?(t=a-n.clientWidth,r=50):n.clientWidth<e&&(e=n.clientWidth);var u=Math.floor(e*r/100)+o-t;return u>=6&&(u-=1),[t,u]},W=function(t,n,e,o,i,r){void 0===r&&(r=30);var a=U();if(x){r=47;var l=n.clientHeight/2,c=o+e/2,s=0;return c+l>a?(o=a-n.clientHeight,s=n.clientHeight-(a-i+e/2)-4):c-l<0?(o=0,s=Math.floor(e*r/100)-4):(o=c-l,s=Math.floor(n.clientHeight*r/100)-4),[o,s]}t+n.clientHeight>a?(t=a-n.clientHeight,r=50):n.clientHeight<e&&(e=n.clientHeight);var u=Math.floor(e*r/100)+o-t;return u>=6&&(u-=1),[t,u]};return n.useEffect((function(){var t,n,o,i,l,c,f=(P||{}).current;if(E(f),r||(k.current.clientTop=null,k.current.clientLeft=0),e.CmUtils.isNil(a))return k.current.clientTop=null,void(k.current.clientLeft=0);if(f&&u){var p=m?"top":w?"right":v?"bottom":y?"left":s||"top",d=u.getBoundingClientRect(),h=d.top,g=d.left,b=d.bottom,x=d.right,C=d.width,S=d.height;h+=window.pageYOffset,b+=window.pageYOffset,g+=window.pageXOffset,x+=window.pageXOffset;var O=function(){return h-f.clientHeight-8},H=function(){return x+10},L=function(){return b+8},z=function(){return g-f.clientWidth-10},M=0,j=g,N=O();switch(p){case"top":N<0&&(p="bottom",N=L()),j=(t=T(j,f,C,g,x))[0],M=t[1];break;case"bottom":(N=L())>U()&&(p="top",N=O()),j=(n=T(j,f,C,g,x))[0],M=n[1];break;case"left":N=h,(j=z())<0&&(p="right",j=H()),j+f.clientWidth>q()?(p="top",j=g,N=O(),j=(o=T(j,f,C,g,x))[0],M=o[1]):(N=(i=W(N,f,S,h,b))[0],M=i[1]),N<0&&(p="bottom",N=L());break;case"right":N=h,(j=H())+f.clientWidth>q()&&(p="left",j=z()),j<0?(p="top",j=g,N=O(),j=(l=T(j,f,C,g,x))[0],M=l[1]):(N=(c=W(N,f,S,h,b))[0],M=c[1]),N<0&&(p="bottom",N=L())}k.current.arrowPos=M,k.current.clientTop=N,k.current.clientLeft=j,k.current.posPlacement=p}}),[r,u,p,a,c,s,m,w,v,y]),S&&r?i.createPortal(l.default.createElement(N,{id:o,ref:P,className:e.HtmlUtils.joinClass([c,"ldk-placement-".concat(k.current.posPlacement)]),top:k.current.clientTop,left:k.current.clientLeft,pos:k.current.posPlacement,arrowPos:k.current.arrowPos,limitWidth:f,delayShow:B(d),display:h,backgroundColor:g,tooltipColor:b},l.default.createElement("div",{className:"ldk-icon"}),l.default.createElement(j,{className:"ldk-content"},l.default.createElement(I,null,a))),S):l.default.createElement(l.default.Fragment,null)},X=function(t){var i=t.children,r=t.tagName,a=t.className,c=t.style,f=t.tooltipClassName,p=t.tooltipContent,d=t.placement,h=void 0===d?"top":d,m=t.trigger,v=void 0===m?"hover":m,w=t.delayShow,y=void 0===w?250:w,g=t.display,b=void 0===g?"fade":g,x=t.backgroundColor,C=t.tooltipColor,E=t.limitWidth,k=void 0===E||E,P=t.handleClick,S=void 0===P?function(){}:P,T=t.handleMouseEnter,W=void 0===T?function(){}:T,O=t.handleMouseLeave,L=void 0===O?function(){}:O,z=t.onClick,M=void 0===z?function(){}:z,j=t.onMouseEnter,N=void 0===j?function(){}:j,I=t.onMouseLeave,R=void 0===I?function(){}:I,q=t.onShown,U=void 0===q?function(){}:q,B=t.onHidden,X=void 0===B?function(){}:B,Y=t.mouseWheel,F=void 0===Y||Y,_=t.shareContext,V=void 0===_||_,$=t.open,G=t.showSync,J=t.hideIfResize,K=void 0===J||J,Q=t.hideIfScroll,Z=t.top,tt=t.bottom,nt=t.right,et=t.left,ot=t.centerArrow,it=t.forceHide,rt=u(t,["children","tagName","className","style","tooltipClassName","tooltipContent","placement","trigger","delayShow","display","backgroundColor","tooltipColor","limitWidth","handleClick","handleMouseEnter","handleMouseLeave","onClick","onMouseEnter","onMouseLeave","onShown","onHidden","mouseWheel","shareContext","open","showSync","hideIfResize","hideIfScroll","top","bottom","right","left","centerArrow","forceHide"]),at=n.useState(r)[0],lt=n.useState(e.CmUtils.idv4Time("dk-ttip"))[0],ct=n.useState({}),st=ct[0],ut=ct[1],ft=n.useState(null),pt=ft[0],dt=ft[1],ht=n.useState(null),mt=ht[0],vt=ht[1],wt=n.useRef([]),yt=e.Hooks.useWindowSize(),gt="manual"===v,bt=["hover","focus"].includes(v);n.useEffect((function(){var t=st.target||wt.current[0];$&&t&&(ut({target:t,show:!1}),setTimeout((function(){return ut((function(t){return s(s({},t),{show:!0})}))})))}),[$]),n.useEffect((function(){gt&&ut({target:wt.current[0],show:G})}),[G]),n.useEffect((function(){K&&xt()}),[K,yt]),n.useEffect((function(){!e.CmUtils.isNil(it)&&xt()}),[it]),n.useEffect((function(){return st.show?(document.addEventListener("mousedown",kt),document.addEventListener("touchstart",kt),document.addEventListener("scroll",Ct),F&&document.addEventListener("wheel",Ct)):(Et(),dt(null)),function(){Et()}}),[st.show]);var xt=function(){st.show&&(dt(null),Et(),ut((function(t){return s(s({},t),{show:!1})})),X(!1))},Ct=function(){Q&&xt()},Et=function(){document.removeEventListener("mousedown",kt),document.removeEventListener("touchstart",kt),document.removeEventListener("scroll",Ct),F&&document.removeEventListener("wheel",Ct)},kt=function(t){void 0===t&&(t=window.event);try{if(gt||t.target.closest("#".concat(lt)))return}catch(t){}A(t)||!st.target||e.HtmlUtils.elContains(st.target,t.target)||xt()},Pt=function(t,o){var r=t.target,a=function(){ut({show:!0,target:wt.current[o]}),U(),t.preventDefault(),t.stopPropagation()};return n.Children.count(i)>1?st.target===wt.current[o]&&st.show?(t.preventDefault(),t.stopPropagation(),xt(),void ut({show:!1,target:wt.current[o]})):void(-1!==o&&a()):e.HtmlUtils.elContains(st.target,r)&&st.show?(t.preventDefault(),void t.stopPropagation()):void(-1!==o&&a())},St=function(t){L(t),R(t),bt&&xt()},Tt=function(t){return s({onMouseEnter:function(n){return function(t,n){W(t),N(t),bt&&Pt(t,n)}(n,t)},onMouseLeave:St,onClick:function(n){return function(t,n){S(t),M(t),"click"===v&&Pt(t,n)}(n,t)},ref:function(n){return wt.current[t]=n},className:a,style:c},rt)};return l.default.createElement(H,{shareContext:V,showTooltip:function(t){dt(t),ut((function(t){return s(s({},t),{show:!0})})),U()},hideTooltip:xt,isShow:Boolean(st.show),tooltipId:lt,tooltipElement:mt},l.default.createElement(o.If,{condition:Boolean(at)},l.default.createElement(o.Then,null,l.default.createElement(at,s({},Tt(0)),i)),l.default.createElement(o.Else,null,n.Children.map(i,(function(t,e){return n.isValidElement(t)?n.cloneElement(t,s({},Tt(e))):t})))),l.default.createElement(D,{tooltipId:lt,isShow:Boolean(st.show),tooltipClassName:f,tooltipContent:pt||p,placement:h,target:st.target,limitWidth:k,resizeSize:yt,delayShow:y,display:b,top:Z,bottom:tt,right:nt,left:et,backgroundColor:x,tooltipColor:C,centerArrow:ot,setTargetTooltip:vt}))};t.Tooltip=X,t.TooltipContent=I,t.TooltipContext=H,t.TooltipPortal=D,t.default=X,t.getLazyTime=B,t.isMouseRightClick=A,t.overHeight=U,t.overWidth=q,t.usePortalTooltip=R,t.useTooltipContext=function(){return n.useContext(O)},Object.defineProperty(t,"__esModule",{value:!0})}));
