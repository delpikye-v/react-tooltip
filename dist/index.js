!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@delpi/common"),require("react-if-vz"),require("react-dom"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","@delpi/common","react-if-vz","react-dom","styled-components"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).ReactTooltip={},t.React,t.common,t.reactIfVz,t.reactDom,t.styled)}(this,(function(t,n,e,o,r,i){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=a(n),c=a(i),s=function(){return s=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},s.apply(this,arguments)};function u(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e}function f(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}"function"==typeof SuppressedError&&SuppressedError;var p,d,m,h,v,g,w,y,b,x,C,E,k,P,S,z,T,O=n.createContext({}),L=function(t){var n=t.shareContext,e=u(t,["shareContext"]);return l.default.createElement(o.Ifz,null,l.default.createElement(o.If,{condition:!n},e.children),l.default.createElement(o.Else,null,l.default.createElement(O.Provider,{value:e},e.children)))},M="#282727",W=-12,j={fade:[i.keyframes(p||(p=f(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]))),i.keyframes(d||(d=f(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"],["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n  }\n"])))],zoom:[i.keyframes(m||(m=f(["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(.25);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),i.keyframes(h||(h=f(["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(1);\n    opacity: 0;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 1;\n  }\n"])))]},I=c.default.div(v||(v=f(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),N=c.default(I)(C||(C=f(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n  z-index: 1111;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 0.25rem 0.75rem;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n  z-index: 1111;\n\n  visibility: ",";\n  animation: ","\n    "," ease-in;\n  transition: visibility "," ease-in;\n\n  div.ldk-content {\n    position: relative;\n    max-width: ",";\n    word-break: break-all;\n    height: 100%;\n  }\n\n  div.ldk-icon {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    /* -webkit-transition: opacity 1s linear;\n      -moz-transition: opacity 1s linear;\n      -o-transition: opacity 1s linear;\n      transition: opacity 1s linear; */\n    ","\n    ","\n      ","\n  ","\n  ","\n  }\n"])),(function(t){return t.top}),(function(t){return t.left}),(function(t){return t.backgroundColor||M}),(function(t){return t.tooltipColor||"#ffffff"}),(function(t){return t.top?"visible":"hidden"}),(function(t){return t.top?j[t.display][0]:j[t.display][1]}),(function(t){return t.delayShow}),(function(t){return t.delayShow}),(function(t){return t.limitWidth?"200px":"none"}),(function(t){return t.pos&&i.css(g||(g=f(["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "],["\n      /* opacity: 1; */\n      border-",": 8px solid ",";\n  "])),t.pos,t.backgroundColor||M)}),(function(t){return"bottom"===t.pos&&i.css(w||(w=f(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),W,t.arrowPos)}),(function(t){return"top"===t.pos&&i.css(y||(y=f(["\n        bottom: ","px;\n        left: ","px;\n      "],["\n        bottom: ","px;\n        left: ","px;\n      "])),W,t.arrowPos)}),(function(t){return"right"===t.pos&&i.css(b||(b=f(["\n        top: ","px;\n        left: ","px;\n      "],["\n        top: ","px;\n        left: ","px;\n      "])),t.arrowPos,W)}),(function(t){return"left"===t.pos&&i.css(x||(x=f(["\n        top: ","px;\n        right: ","px;\n      "],["\n        top: ","px;\n        right: ","px;\n      "])),t.arrowPos,W)}));c.default.div(T||(T=f(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n\n  ","\n  ","\n    ","\n    ","\n    ","\n"],["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n\n  ","\n  ","\n    ","\n    ","\n    ","\n"])),(function(t){return t.pos&&i.css(E||(E=f(["\n      border-",": 8px solid ",";\n    "],["\n      border-",": 8px solid ",";\n    "])),t.pos,t.backgroundColor||M)}),(function(t){return"bottom"===t.pos&&i.css(k||(k=f(["\n      top: -12px;\n      left: ","px;\n    "],["\n      top: -12px;\n      left: ","px;\n    "])),t.arrowPos)}),(function(t){return"top"===t.pos&&i.css(P||(P=f(["\n      bottom: -12px;\n      left: ","px;\n    "],["\n      bottom: -12px;\n      left: ","px;\n    "])),t.arrowPos)}),(function(t){return"right"===t.pos&&i.css(S||(S=f(["\n      top: ","px;\n      left: -10px;\n    "],["\n      top: ","px;\n      left: -10px;\n    "])),t.arrowPos)}),(function(t){return"left"===t.pos&&i.css(z||(z=f(["\n      top: ","px;\n      right: -10px;\n    "],["\n      top: ","px;\n      right: -10px;\n    "])),t.arrowPos)}));var H=function(t){var n=t.children;return"function"==typeof n?l.default.createElement(l.default.Fragment,null,n()):n},R=function(){var t=n.useState(null),e=t[0],o=t[1];return n.useEffect((function(){var t=document.getElementById("portal-tooltip");if(t)o(t);else{var n=document.createElement("div");n.id="portal-tooltip",document.body.appendChild(n),o(n)}}),[]),e},B=function(){return window.innerWidth+window.pageXOffset},U=function(){return window.innerHeight+window.pageYOffset},q=function(t){return"which"in t?3===t.which:"button"in t&&2===t.button},A=function(t){return/^\d+$/.test("".concat(t||250))?"".concat(t,"ms"):t},D=function(t,n,e,o,r,i,a,l){void 0===l&&(l=30);var c="horizontal"===a?B():U(),s="horizontal"===a?5:4,u="horizontal"===a?e.clientWidth:e.clientHeight;if(t){l="horizontal"===a?50:47;var f=u/2,p=r+o/2,d=0;return p+f>c?(n=c-u,d=u-(c-i+o/2)-s):p-f<0?(n=0,d=Math.floor(o*l/100)-s):(n=p-f,d=Math.floor(u*l/100)-s),[n,d]}n+u>c?(n=c-u,l=50):u<o&&(o=u);var m=Math.floor(o*l/100)+r-n;return m>=6&&(m-=1),[n,m]},X=function(t){var o=t.tooltipId,i=t.isShow,a=t.tooltipContent,c=t.tooltipClassName,u=t.placement,f=t.target,p=t.limitWidth,d=t.resizeSize,m=t.delayShow,h=t.display,v=t.top,g=t.bottom,w=t.right,y=t.left,b=t.backgroundColor,x=t.tooltipColor,C=t.centerArrow,E=t.setTargetTooltip,k=void 0===E?function(){}:E,P=n.useRef({clientTop:0,clientLeft:0,posPlacement:null,arrowPos:null}),S=n.useRef(null),z=R(),T=function(){return v?"top":w?"right":g?"bottom":y?"left":u||"top"};return n.useEffect((function(){var t,n,o,r,l=(S||{}).current;if(k(l),!i||e.CmUtils.isNil(a))return P.current.clientTop=null,void(P.current.clientLeft=0);if(l&&f){var c=T(),u=f.getBoundingClientRect(),p=u.width,d=u.height,m=u.top,h=u.bottom,v=u.left,g=u.right,w=m+window.pageYOffset,y=h+window.pageYOffset,b=v+window.pageXOffset,x=g+window.pageXOffset,E={top:function(){return w-l.clientHeight-8},bottom:function(){return y+8},left:function(){return b-l.clientWidth-10},right:function(){return x+10}},z=function(){return D(Boolean(C),b,l,p,v,g,"horizontal")},O=function(){return D(Boolean(C),w,l,d,m,h,"vertical")},L=0,M=0,W=0,j=function(t){var n;c=t,L=E[t](),n=z(),M=n[0],W=n[1]},I=function(t){var n;c=t,M=E[t](),L=w,n=O(),L=n[0],W=n[1]};switch(c){case"top":if((L=E.top())<0)return j("bottom");t=z(),M=t[0],W=t[1];break;case"bottom":if((L=E.bottom())>U())return j("top");n=z(),M=n[0],W=n[1];break;case"left":if(M=E.left(),L=w,M<0)return I("right");if(M+l.clientWidth>B())return j("top");if(o=O(),L=o[0],W=o[1],L<0)return j("bottom");break;case"right":if(M=E.right(),L=w,M+l.clientWidth>B())return I("left");if(M<0)return j("top");if(r=O(),L=r[0],W=r[1],L<0)return j("bottom")}P.current=s(s({},P.current),{arrowPos:W,clientTop:L,clientLeft:M,posPlacement:c})}}),[i,f,d,a,c,u,v,w,g,y]),z&&i?r.createPortal(l.default.createElement(N,{id:o,ref:S,className:e.HtmlUtils.joinClass([c,"ldk-placement-".concat(P.current.posPlacement)]),top:P.current.clientTop,left:P.current.clientLeft,pos:P.current.posPlacement,arrowPos:P.current.arrowPos,limitWidth:p,delayShow:A(m),display:h,backgroundColor:b,tooltipColor:x},l.default.createElement("div",{className:"ldk-icon"}),l.default.createElement(I,{className:"ldk-content"},l.default.createElement(H,null,a))),z):l.default.createElement(l.default.Fragment,null)},Y=function(t){var r=t.children,i=t.tagName,a=t.className,c=t.style,f=t.tooltipClassName,p=t.tooltipContent,d=t.placement,m=void 0===d?"top":d,h=t.trigger,v=void 0===h?"hover":h,g=t.delayShow,w=void 0===g?250:g,y=t.display,b=void 0===y?"fade":y,x=t.backgroundColor,C=t.tooltipColor,E=t.limitWidth,k=void 0===E||E,P=t.handleClick,S=void 0===P?function(){}:P,z=t.handleMouseEnter,T=void 0===z?function(){}:z,O=t.handleMouseLeave,M=void 0===O?function(){}:O,W=t.onClick,j=void 0===W?function(){}:W,I=t.onMouseEnter,N=void 0===I?function(){}:I,H=t.onMouseLeave,R=void 0===H?function(){}:H,B=t.onShown,U=void 0===B?function(){}:B,A=t.onHidden,D=void 0===A?function(){}:A,Y=t.mouseWheel,F=void 0===Y||Y,V=t.shareContext,_=void 0===V||V,$=t.open,G=t.showSync,J=t.hideIfResize,K=void 0===J||J,Q=t.hideIfScroll,Z=t.top,tt=t.bottom,nt=t.right,et=t.left,ot=t.centerArrow,rt=t.forceHide,it=u(t,["children","tagName","className","style","tooltipClassName","tooltipContent","placement","trigger","delayShow","display","backgroundColor","tooltipColor","limitWidth","handleClick","handleMouseEnter","handleMouseLeave","onClick","onMouseEnter","onMouseLeave","onShown","onHidden","mouseWheel","shareContext","open","showSync","hideIfResize","hideIfScroll","top","bottom","right","left","centerArrow","forceHide"]),at=n.useState(i)[0],lt=n.useState(e.CmUtils.idv4Time("dk-ttip"))[0],ct=n.useState({}),st=ct[0],ut=ct[1],ft=n.useState(null),pt=ft[0],dt=ft[1],mt=n.useState(null),ht=mt[0],vt=mt[1],gt=n.useRef([]),wt=e.Hooks.useWindowSize(),yt="manual"===v,bt=["hover","focus"].includes(v);n.useEffect((function(){var t=st.target||gt.current[0];$&&t&&(ut({target:t,show:!1}),setTimeout((function(){return ut((function(t){return s(s({},t),{show:!0})}))})))}),[$]),n.useEffect((function(){yt&&ut({target:gt.current[0],show:G})}),[G]),n.useEffect((function(){K&&xt()}),[K,wt]),n.useEffect((function(){!e.CmUtils.isNil(rt)&&xt()}),[rt]),n.useEffect((function(){return st.show?(document.addEventListener("mousedown",kt),document.addEventListener("touchstart",kt),document.addEventListener("scroll",Ct),F&&document.addEventListener("wheel",Ct,{passive:!0})):(Et(),dt(null)),function(){Et()}}),[st.show]);var xt=function(){st.show&&(dt(null),Et(),ut((function(t){return s(s({},t),{show:!1})})),D(!1))},Ct=function(){Q&&xt()},Et=function(){document.removeEventListener("mousedown",kt),document.removeEventListener("touchstart",kt),document.removeEventListener("scroll",Ct),F&&document.removeEventListener("wheel",Ct)},kt=function(t){void 0===t&&(t=window.event);try{var n=t.target,o=null==n?void 0:n.closest("#".concat(lt));if(yt||o)return}catch(t){}var r=st.target&&e.HtmlUtils.elContains(st.target,t.target);q(t)||!st.target||r||xt()},Pt=function(t,o){var i=t.target,a=function(){ut({show:!0,target:gt.current[o]}),U(),t.preventDefault(),t.stopPropagation()};return n.Children.count(r)>1?st.target===gt.current[o]&&st.show?(t.preventDefault(),t.stopPropagation(),xt(),void ut({show:!1,target:gt.current[o]})):void(-1!==o&&a()):e.HtmlUtils.elContains(st.target,i)&&st.show?(t.preventDefault(),void t.stopPropagation()):void(-1!==o&&a())},St=function(t){M(t),R(t),bt&&xt()},zt=function(t){return s({onMouseEnter:function(n){return function(t,n){T(t),N(t),bt&&Pt(t,n)}(n,t)},onMouseLeave:St,onClick:function(n){return function(t,n){S(t),j(t),"click"===v&&Pt(t,n)}(n,t)},ref:function(n){return gt.current[t]=n},className:a,style:c},it)};return l.default.createElement(L,{shareContext:_,showTooltip:function(t){dt(t),ut((function(t){return s(s({},t),{show:!0})})),U()},hideTooltip:xt,isShow:Boolean(st.show),tooltipId:lt,tooltipElement:ht},l.default.createElement(o.Ifz,null,l.default.createElement(o.If,{condition:Boolean(at)},l.default.createElement(at,s({},zt(0)),r)),l.default.createElement(o.Else,null,n.Children.map(r,(function(t,e){return n.isValidElement(t)?n.cloneElement(t,s({},zt(e))):t})))),l.default.createElement(X,{tooltipId:lt,isShow:Boolean(st.show),tooltipClassName:f,tooltipContent:pt||p,placement:m,target:st.target,limitWidth:k,resizeSize:wt,delayShow:w,display:b,top:Z,bottom:tt,right:nt,left:et,backgroundColor:x,tooltipColor:C,centerArrow:ot,setTargetTooltip:vt}))};t.Tooltip=Y,t.TooltipContent=H,t.TooltipContext=L,t.TooltipPortal=X,t.default=Y,t.getLazyTime=A,t.isMouseRightClick=q,t.overHeight=U,t.overWidth=B,t.usePortalTooltip=R,t.useTooltipContext=function(){return n.useContext(O)},Object.defineProperty(t,"__esModule",{value:!0})}));
